<!-- project_prototype_list.html -->
{% extends "base.html" %}
{% load staticfiles %}

{% block content_container %}

<div class="row"><div class="col-md-10 col-md-offset-1 block-center">
    <p class="lead">
        <span class="">{{ prototype_list|length }}</span> Prototype{{prototype_list|length|pluralize }} in the repository
    </p>
    <p>
        <a href="{% url 'create_prototype' %}" class="static_a_display"><button class=" btn btn-xs btn-success"><i class="fa fa-plus"></i> create </button></a> your very own OR <button class="btn btn-xs disabled"><i class="fa fa-files-o"></i> flip </i></button> an existing one!</i>
    </p>
    <hr height="5">
    {% for project_prototype in prototype_list %}

        <p {% if not project_prototype.0.active %}class="text-muted"{% endif %}>

            <a href="{% url 'docview_prototype' project_prototype.0.id %}" class="static_a_display lead"> <i class="fa fa-file-text-o fa-1x"></i> {{ project_prototype.0 }} </a> <span class="">by {{ project_prototype.0.creator }}</span>
        </p>
        <p>
            <a href="#prototype_detail_{{project_prototype.0.id}}" class="static_a_display" data-toggle="collapse" aria-expanded="false" aria-controls="prototype_detail_{{project_prototype.0.id}}">
                <button class="btn btn-xs"> details <i class="fa fa-caret-down"></i></button>
            </a>

            <a href="{% url 'flip_prototype' project_prototype.0.id %}" class="static_a_display">
                <button class="btn btn-xs"><i class="fa fa-files-o"></i> flip</button>
            </a>


            {% if project_prototype.0.creator == user %}
            <a href="{% url 'update_prototype' project_prototype.0.id %}" class="static_a_display">
                <button class="btn btn-xs"><i class="fa fa-pencil"></i> edit</button>
            </a>

            <a href="{% url 'delete_prototype' project_prototype.0.id %}" class="static_a_display">
                <button class="btn btn-xs"><i class="fa fa-close"></i> remove</button>
            </a>
            {% endif %}

        </p>


        {% if project_prototype.0.origin %}
            <p> derived from <a href="{% url 'view_prototype' project_prototype.0.origin.id %}" class="static_a_display">{{ project_prototype.0.origin }}</a></p>
        {% endif %}
        <p>
            <dl id="prototype_detail_{{project_prototype.0.id}}" class="dl-horizontal collapse well bs-bg-light-green">
                <dt><a href="{% url 'view_prototype' project_prototype.0.id %}" class="static_a_display">
                        <button class="btn btn-md btn-block">even more detail <i class="fa fa-caret-right"></i></button>
                </a></dt><dd></dd>
                <h4> {{ project_prototype.0.metaprefix }} </h4>
                <dt>Description:</dt> <dd><span> {{ project_prototype.0.description }} </span></dd><dt>
                <dt>Publisher:</dt><dd><span> {{ project_prototype.0.publisher }} </span></dd>
                <dt>Publish_date:</dt><dd><span> {{ project_prototype.0.publish_date }} </span></dd>
                <dt>Contributors:</dt><dd><span> {{ project_prototype.0.contributors }} </span></dd>
                <dt>Copyright:</dt><dd><span> {{ project_prototype.0.rights }} </span></dd>
                <dt>URI:</dt><dd><span> {{ project_prototype.0.uri }} </span></dd>

                {% for i, j in project_prototype.1.items %}
                {% ifchanged j.metaprefix %}<h4> {{ j.metaprefix }} </h4> {% endifchanged %}
                <dt style="white-space: normal"> {{ j.displayname }}:</dt>
                <dd>{% for k in j.datalist %}<span>{{ k }}</span>{% if not forloop.last %},{% endif %} {% endfor %}</dd>
                {% endfor %}
            </dl>
        </p>
    {% endfor %}


</div></div>


{% endblock content_container %}